# MongoDB
MONGODB_URI=mongodb://localhost:27017/litenews

# JWT
JWT_SECRET=your-secret-key-here

# Server
PORT=4250
FRONTEND_URL=http://localhost:3000

# LLM Provider Configuration
# LLM_MODE options: 'perplexity', 'ollama', or 'mock'
LLM_MODE=mock

# Perplexity API (required if LLM_MODE=perplexity)
# Get your API key at: https://www.perplexity.ai/settings/api
PERPLEXITY_API_KEY=pplx-xxxxxxxxxxxxxxxxxxxx
# Available models:
#   - llama-3.1-sonar-small-128k-online (cheapest, $0.2/1M tokens)
#   - llama-3.1-sonar-large-128k-online ($1/1M tokens)
#   - llama-3.1-sonar-huge-128k-online (best quality, $5/1M tokens)
PERPLEXITY_MODEL=llama-3.1-sonar-small-128k-online

# Ollama (required if LLM_MODE=ollama)
# Install Ollama: https://ollama.ai
OLLAMA_BASE_URL=http://localhost:11434
OLLAMA_MODEL=llama3.2

# Embedding Configuration
# Model for generating semantic embeddings (FastEmbed - no Sharp dependency)
# Options: BGE_SMALL_EN, BGE_BASE_EN, BGE_LARGE_EN, BGE_SMALL_EN_V1_5, BGE_BASE_EN_V1_5, BGE_LARGE_EN_V1_5, MULTILINGUAL_E5_LARGE (or MLE5_LARGE)
# Default: MULTILINGUAL_E5_LARGE (1024 dimensions, multilingual: Chinese traditional/simplified + English)
EMBEDDING_MODEL=MULTILINGUAL_E5_LARGE
# Max chars from description (and from content fallback) used for embedding
# NEWS_EMBED_DESC_CAP=400
# If description is shorter than this, use a short prefix of content as fallback (when content exists)
# NEWS_EMBED_DESC_MIN_LENGTH=50

# Clustering Configuration
# Method: connected_components | greedy_average | greedy_min | mutual_k (run npm run compare-clustering to compare)
CLUSTERING_METHOD=connected_components
# Global defaults (used by all methods unless overridden below)
# Higher threshold = fewer links = more clusters (more singletons). Lower = more links = fewer, bigger clusters.
CLUSTERING_THRESHOLD=0.68
MIN_CLUSTER_SIZE=1
MAX_CLUSTER_SIZE=20
CLUSTERING_CANDIDATE_LIMIT=50

# --- Per-method overrides (optional). Uncomment to tune a specific method. ---
# connected_components: edge if sim(A,B) >= threshold; union-find; transitive same-story grouping.
# CLUSTERING_CONNECTED_COMPONENTS_THRESHOLD=0.68
# CLUSTERING_CONNECTED_COMPONENTS_CANDIDATE_LIMIT=50
# greedy_average: seed by date; add item only if average similarity to cluster >= threshold.
# CLUSTERING_GREEDY_AVERAGE_THRESHOLD=0.68
# CLUSTERING_GREEDY_AVERAGE_CANDIDATE_LIMIT=50
# greedy_min: seed by date; add item only if min similarity to any member >= threshold (stricter).
# CLUSTERING_GREEDY_MIN_THRESHOLD=0.68
# CLUSTERING_GREEDY_MIN_CANDIDATE_LIMIT=50
# mutual_k: edge only if A in B's top-k and B in A's top-k; then connected components.
# CLUSTERING_MUTUAL_K_THRESHOLD=0.68
# CLUSTERING_MUTUAL_K_CANDIDATE_LIMIT=50

# Social Media Feed Configuration (Optional)
# SociaVault: Required for YouTube, X (Twitter), and Instagram feed fetching
# Get your API key at: https://sociavault.com/dashboard
# 50 free credits to start, then pay-per-request (1 credit per successful request)
# YouTube, X, and Instagram all use the same SociaVault API key
SOCIAVAULT_API_KEY=sk_live_xxxxxxxxxxxxx